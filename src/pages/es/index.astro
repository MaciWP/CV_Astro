---
import Layout from "../../layouts/Layout.astro";
import { getRelativeLocaleUrl } from "astro:i18n";

// Import CV components - All pure Astro now (no React)
import ProfileHeader from "../../components/cv/ProfileHeader.astro";
import Experience from "../../components/cv/Experience.astro";
import Skills from "../../components/cv/Skills.astro";
import Languages from "../../components/cv/Languages.astro";
import Education from "../../components/cv/Education.astro";
import Projects from "../../components/cv/Projects.astro";
import FAQSchema from "../../components/FAQSchema.astro";

// Enhanced metadata for SEO (Spanish version)
const pageTitle = "Oriol Macias - Portfolio de Desarrollador de Software";
const pageDescription =
    "CV y portfolio profesional de Oriol Macias, Desarrollador Backend con más de 8 años de experiencia en integración de protocolos industriales (SNMP, Modbus, BACnet) e infraestructura de centros de datos.";
const ogImage = "/images/oriol_macias.jpg";
const canonicalUrl = "https://oriolmacias.dev/es/";

// Enlaces a versiones en otros idiomas
const enUrl = getRelativeLocaleUrl("en", "");
const frUrl = getRelativeLocaleUrl("fr", "");
const deUrl = getRelativeLocaleUrl("de", "");

// FAQs for rich snippets
const faqs = [
  {
    question: "¿Tienes permiso de trabajo para Suiza?",
    answer: "Sí, tengo permiso de trabajo de la UE y estoy autorizado para trabajar en Suiza de inmediato."
  },
  {
    question: "¿En qué lenguajes de programación te especializas?",
    answer: "Me especializo en Python y C#, con amplia experiencia en Django, .NET Framework y Core, y desarrollo de API REST."
  },
  {
    question: "¿Con qué protocolos industriales trabajas?",
    answer: "Tengo más de 8 años de experiencia integrando protocolos SNMP, Modbus y BACnet para plataformas DCIM."
  },
  {
    question: "¿Estás disponible para trabajo remoto?",
    answer: "Sí, estoy abierto a posiciones remotas, híbridas o presenciales en Suiza (Zúrich, Basilea, Ginebra, Lausana) o España."
  },
  {
    question: "¿Cuál es tu período de preaviso?",
    answer: "Tengo un período de preaviso de 2 semanas y puedo empezar poco después."
  }
];
---

<Layout
    title={pageTitle}
    description={pageDescription}
    lang="es"
    ogImage={ogImage}
    canonicalUrl={canonicalUrl}
    alternateUrls={{
        en: enUrl,
        fr: frUrl,
        de: deUrl,
    }}
>
    <div
        id="cv-content"
        class="space-y-12"
        itemscope
        itemtype="https://schema.org/Person"
    >
        {/* ProfileHeader - SSG Optimized */}
        <div class="-mb-4">
            <ProfileHeader lang="es" />
        </div>

        {/* Experience - Pure Astro */}
        <Experience lang="es" />

        {/* Skills */}
        <Skills lang="es" />

        {/* Education */}
        <Education lang="es" />

        {/* Languages - Pure Astro */}
        <Languages lang="es" />

        {/* Projects - Pure Astro */}
        <Projects lang="es" />

        {/* FAQ Section with structured data */}
        <FAQSchema faqs={faqs} lang="es" />

        {/* Contenido SEO oculto */}
        <div class="sr-only">
            <div itemprop="name">Oriol Macias</div>
            <div itemprop="jobTitle">Desarrollador de Software</div>
            <div itemprop="description">
                Desarrollador Backend orientado a soluciones, especializado en
                integración de protocolos industriales (SNMP, Modbus, BACnet)
                con más de 8 años de experiencia en aplicaciones de alto
                rendimiento.
            </div>
            <div itemprop="email">oriolomb@gmail.com</div>
            <a itemprop="url" href="https://oriolmacias.dev"
                >https://oriolmacias.dev</a
            >
            <a itemprop="sameAs" href="https://github.com/MaciWP">GitHub</a>
            <a
                itemprop="sameAs"
                href="https://linkedin.com/in/oriolmaciasbadosa">LinkedIn</a
            >
        </div>
    </div>
</Layout>
