---
import Layout from "../layouts/Layout.astro";
import { getRelativeLocaleUrl } from "astro:i18n";

// Import CV components - All pure Astro now (no React)
import ProfileHeader from "../components/cv/ProfileHeader.astro";
import Experience from "../components/cv/Experience.astro";
import Skills from "../components/cv/Skills.astro";
import Languages from "../components/cv/Languages.astro";
import Education from "../components/cv/Education.astro";
import Projects from "../components/cv/Projects.astro";
import ExpertiseSummary from "../components/cv/ExpertiseSummary.astro";
import FAQSchema from "../components/FAQSchema.astro";

// Enhanced metadata for SEO
const pageTitle = "Oriol Macias - Software Developer CV & Portfolio";
const pageDescription =
  "Professional CV and portfolio for Oriol Macias, a Backend Developer with over 8 years of experience in industrial protocol integration (SNMP, Modbus, BACnet) and data center infrastructure.";
const ogImage = "/images/oriol_macias.jpg";
const canonicalUrl = "https://oriolmacias.dev/";

// Enlaces a versiones en otros idiomas
const esUrl = getRelativeLocaleUrl("es", "");
const frUrl = getRelativeLocaleUrl("fr", "");
const deUrl = getRelativeLocaleUrl("de", "");

// FAQs for rich snippets
const faqs = [
  {
    question: "Do you have a work permit for Switzerland?",
    answer: "As an EU Citizen (Spain), I am eligible for a Swiss Work Permit (B-Permit) immediately upon hiring via the CH-EU Bilateral Agreements. No visa sponsorship required."
  },
  {
    question: "What programming languages do you specialize in?",
    answer: "I specialize in Python and C#, with extensive experience in Django, .NET Framework and Core, and REST API development."
  },
  {
    question: "What industrial protocols do you work with?",
    answer: "I have over 8 years of experience integrating SNMP, Modbus, and BACnet protocols for DCIM platforms and data center infrastructure."
  },
  {
    question: "Are you available for remote work?",
    answer: "Yes, I am open to remote, hybrid, or on-site positions in Switzerland (Zurich, Basel, Geneva, Lausanne) or Spain."
  },
  {
    question: "What is your notice period?",
    answer: "I have a 2 weeks notice period and can start shortly after that."
  }
];
---

<Layout
  title={pageTitle}
  description={pageDescription}
  lang="en"
  ogImage={ogImage}
  canonicalUrl={canonicalUrl}
  alternateUrls={{
    es: esUrl,
    fr: frUrl,
    de: deUrl,
  }}
>
  <div
    id="cv-content"
    class="space-y-12"
    itemscope
    itemtype="https://schema.org/Person"
  >
    {/* ProfileHeader - SSG Optimized */}
    <div class="-mb-8">
      <ProfileHeader lang="en" />
    </div>

    {/* Expertise Summary - Key competencies */}
    <ExpertiseSummary lang="en" />

    {/* Experience - Pure Astro */}
    <Experience lang="en" />

    {/* Skills */}
    <Skills lang="en" />

    {/* Education */}
    <Education lang="en" />

    {/* Languages - Pure Astro */}
    <Languages lang="en" />

    {/* Projects - Pure Astro */}
    <Projects lang="en" />

    {/* FAQ Section with structured data */}
    <FAQSchema faqs={faqs} lang="en" />

    {/* Contenido SEO oculto */}
    <div class="sr-only">
      <div itemprop="name">Oriol Macias</div>
      <div itemprop="jobTitle">Software Developer</div>
      <div itemprop="description">
        Solutions-driven Backend Developer specializing in industrial protocol
        integration (SNMP, Modbus, BACnet) with over 8 years of delivering
        high-performance applications.
      </div>
      <div itemprop="email">oriolomb@gmail.com</div>
      <a itemprop="url" href="https://oriolmacias.dev"
        >https://oriolmacias.dev</a
      >
      <a itemprop="sameAs" href="https://github.com/MaciWP">GitHub</a>
      <a itemprop="sameAs" href="https://linkedin.com/in/oriolmaciasbadosa"
        >LinkedIn</a
      >
    </div>
  </div>
</Layout>
