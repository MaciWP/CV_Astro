/**
 * Comprehensive navbar fix styles
 * File: src/styles/navbar-fix.css
 */

/* Base sticky styles with high specificity */
html body nav[role="navigation"],
html body header nav,
html body .sticky,
html body nav.sticky {
    position: -webkit-sticky !important;
    position: sticky !important;
    top: 0 !important;
    z-index: 999 !important;
    will-change: transform;
    /* Hardware acceleration hint */
}

/* For browsers with poor sticky support */
@supports not ((position: sticky) or (position: -webkit-sticky)) {

    nav[role="navigation"],
    header nav,
    nav.sticky {
        position: fixed !important;
        width: 100% !important;
        left: 0 !important;
    }

    /* Add spacing to prevent content jump */
    body:not([data-navbar-fixed="true"]) {
        padding-top: var(--navbar-height, 80px);
    }
}

/* iOS Safari fixes */
@supports (-webkit-touch-callout: none) {

    html.ios-device nav[role="navigation"],
    html.ios-device header nav {
        position: fixed !important;
        width: 100% !important;
        left: 0 !important;
    }

    /* Add spacing to body when navbar is fixed */
    html.ios-device body {
        padding-top: var(--navbar-height, 80px);
    }
}

/* Ensure header has proper z-index relationship with navbar */
header[role="banner"] {
    position: relative;
    z-index: 998;
    /* Just below navbar */
}